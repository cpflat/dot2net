nodes:
  - name: r1
    image: quay.io/frrouting/frr:8.5.0
    interfaces: [{name: net0, type: direct, args: r2#net0}]
    mounts: [r1/daemons:/etc/frr/daemons, r1/vtysh.conf:/etc/frr/vtysh.conf]
  - name: r2
    image: quay.io/frrouting/frr:8.5.0
    interfaces: [{name: net0, type: direct, args: r1#net0}]
    mounts: [r2/daemons:/etc/frr/daemons, r2/vtysh.conf:/etc/frr/vtysh.conf]

node_configs:
  - name: r1
    cmds:
      - cmd: vtysh -c "conf t" -c "router bgp 65000" -c "bgp router-id 10.255.0.1" -c "int net0" -c "ip addr 10.0.0.1/24" -c "router bgp 65000" -c "neighbor 10.0.0.2 remote-as 65001"
  - name: r2
    cmds:
      - cmd: vtysh -c "conf t" -c "router bgp 65001" -c "bgp router-id 10.255.0.2" -c "int net0" -c "ip addr 10.0.0.2/24" -c "router bgp 65001" -c "neighbor 10.0.0.1 remote-as 65000"